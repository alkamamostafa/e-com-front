{"ast":null,"code":"import { orderAddedFailure, setOrder, setOrderError, setOrderItems, setOrderLoadingState } from \"./order-actions\";\nimport RequestService from \"../../utils/request-service\";\nimport { LoadingStatus } from \"../../types/types\";\nimport { USERS_ORDER } from \"../../constants/urlConstants\";\nimport { ORDER_FINALIZE } from \"../../constants/routeConstants\";\nexport const fetchOrderById = orderId => async dispatch => {\n  try {\n    dispatch(setOrderLoadingState(LoadingStatus.LOADING));\n    const response = await RequestService.get(`${USERS_ORDER}/${orderId}`);\n    dispatch(setOrder(response.data));\n  } catch (error) {\n    dispatch(setOrderError(error.response.data));\n  }\n};\nexport const fetchOrderItemsByOrderId = orderId => async dispatch => {\n  const response = await RequestService.get(`${USERS_ORDER}/${orderId}/items`);\n  dispatch(setOrderItems(response.data));\n};\nexport const addOrder = (order, history) => async dispatch => {\n  try {\n    dispatch(setOrderLoadingState(LoadingStatus.LOADING));\n    const response = await RequestService.post(USERS_ORDER, order);\n    history.push(ORDER_FINALIZE);\n    localStorage.removeItem(\"perfumes\");\n    dispatch(setOrder(response.data));\n  } catch (error) {\n    dispatch(orderAddedFailure(error.response.data));\n  }\n};","map":{"version":3,"names":["orderAddedFailure","setOrder","setOrderError","setOrderItems","setOrderLoadingState","RequestService","LoadingStatus","USERS_ORDER","ORDER_FINALIZE","fetchOrderById","orderId","dispatch","LOADING","response","get","data","error","fetchOrderItemsByOrderId","addOrder","order","history","post","push","localStorage","removeItem"],"sources":["C:/Users/ALKAMA/Desktop/commerce/ecommerce-spring-reactjs/frontend/src/redux/order/order-thunks.ts"],"sourcesContent":["import { Dispatch } from \"redux\";\r\nimport { History, LocationState } from \"history\";\r\n\r\nimport {orderAddedFailure, setOrder, setOrderError, setOrderItems, setOrderLoadingState} from \"./order-actions\";\r\nimport RequestService from \"../../utils/request-service\";\r\nimport { LoadingStatus, OrderRequest } from \"../../types/types\";\r\nimport { USERS_ORDER } from \"../../constants/urlConstants\";\r\nimport { ORDER_FINALIZE } from \"../../constants/routeConstants\";\r\n\r\nexport const fetchOrderById = (orderId: string) => async (dispatch: Dispatch) => {\r\n    try {\r\n        dispatch(setOrderLoadingState(LoadingStatus.LOADING));\r\n        const response = await RequestService.get(`${USERS_ORDER}/${orderId}`);\r\n        dispatch(setOrder(response.data));\r\n    } catch (error) {\r\n        dispatch(setOrderError(error.response.data));\r\n    }\r\n};\r\n\r\nexport const fetchOrderItemsByOrderId = (orderId: string) => async (dispatch: Dispatch) => {\r\n    const response = await RequestService.get(`${USERS_ORDER}/${orderId}/items`);\r\n    dispatch(setOrderItems(response.data));\r\n};\r\n\r\nexport const addOrder = (order: OrderRequest, history: History<LocationState>) => async (dispatch: Dispatch) => {\r\n    try {\r\n        dispatch(setOrderLoadingState(LoadingStatus.LOADING));\r\n        const response = await RequestService.post(USERS_ORDER, order);\r\n        history.push(ORDER_FINALIZE);\r\n        localStorage.removeItem(\"perfumes\");\r\n        dispatch(setOrder(response.data));\r\n    } catch (error) {\r\n        dispatch(orderAddedFailure(error.response.data));\r\n    }\r\n};\r\n"],"mappings":"AAGA,SAAQA,iBAAR,EAA2BC,QAA3B,EAAqCC,aAArC,EAAoDC,aAApD,EAAmEC,oBAAnE,QAA8F,iBAA9F;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AACA,SAASC,aAAT,QAA4C,mBAA5C;AACA,SAASC,WAAT,QAA4B,8BAA5B;AACA,SAASC,cAAT,QAA+B,gCAA/B;AAEA,OAAO,MAAMC,cAAc,GAAIC,OAAD,IAAqB,MAAOC,QAAP,IAA8B;EAC7E,IAAI;IACAA,QAAQ,CAACP,oBAAoB,CAACE,aAAa,CAACM,OAAf,CAArB,CAAR;IACA,MAAMC,QAAQ,GAAG,MAAMR,cAAc,CAACS,GAAf,CAAoB,GAAEP,WAAY,IAAGG,OAAQ,EAA7C,CAAvB;IACAC,QAAQ,CAACV,QAAQ,CAACY,QAAQ,CAACE,IAAV,CAAT,CAAR;EACH,CAJD,CAIE,OAAOC,KAAP,EAAc;IACZL,QAAQ,CAACT,aAAa,CAACc,KAAK,CAACH,QAAN,CAAeE,IAAhB,CAAd,CAAR;EACH;AACJ,CARM;AAUP,OAAO,MAAME,wBAAwB,GAAIP,OAAD,IAAqB,MAAOC,QAAP,IAA8B;EACvF,MAAME,QAAQ,GAAG,MAAMR,cAAc,CAACS,GAAf,CAAoB,GAAEP,WAAY,IAAGG,OAAQ,QAA7C,CAAvB;EACAC,QAAQ,CAACR,aAAa,CAACU,QAAQ,CAACE,IAAV,CAAd,CAAR;AACH,CAHM;AAKP,OAAO,MAAMG,QAAQ,GAAG,CAACC,KAAD,EAAsBC,OAAtB,KAA0D,MAAOT,QAAP,IAA8B;EAC5G,IAAI;IACAA,QAAQ,CAACP,oBAAoB,CAACE,aAAa,CAACM,OAAf,CAArB,CAAR;IACA,MAAMC,QAAQ,GAAG,MAAMR,cAAc,CAACgB,IAAf,CAAoBd,WAApB,EAAiCY,KAAjC,CAAvB;IACAC,OAAO,CAACE,IAAR,CAAad,cAAb;IACAe,YAAY,CAACC,UAAb,CAAwB,UAAxB;IACAb,QAAQ,CAACV,QAAQ,CAACY,QAAQ,CAACE,IAAV,CAAT,CAAR;EACH,CAND,CAME,OAAOC,KAAP,EAAc;IACZL,QAAQ,CAACX,iBAAiB,CAACgB,KAAK,CAACH,QAAN,CAAeE,IAAhB,CAAlB,CAAR;EACH;AACJ,CAVM"},"metadata":{},"sourceType":"module"}