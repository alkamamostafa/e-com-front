{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ALKAMA\\\\Desktop\\\\commerce\\\\ecommerce-spring-reactjs\\\\frontend\\\\src\\\\pages\\\\Login\\\\Login.tsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link, useHistory, useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { faLock, faPhone, faSignInAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { activateAccount, login } from \"../../redux/auth/auth-thunks\";\nimport googleLogo from \"../../img/google.png\";\nimport facebookLogo from \"../../img/facebook.png\";\nimport githubLogo from \"../../img/github.png\";\nimport InfoTitle from \"../../component/InfoTitle/InfoTitle\";\nimport Alert from \"../../component/Alert/Alert\";\nimport Input from \"../../component/Input/Input\";\nimport IconButton from \"../../component/IconButton/IconButton\";\nimport SocialButton from \"./SocialButton/SocialButton\";\nimport { selectErrorMessage, selectSuccessMessage } from \"../../redux/auth/auth-selector\";\nimport { FORGOT } from \"../../constants/routeConstants\";\nimport \"./Login.css\";\nimport { resetAuthState } from \"../../redux/auth/auth-actions\";\nconst initialState = {\n  phoneNumber: \"\",\n  password: \"\"\n};\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const params = useParams();\n  const errorMessage = useSelector(selectErrorMessage);\n  const successMessage = useSelector(selectSuccessMessage);\n  const [loginInfo, setLoginInfo] = useState(initialState);\n  const {\n    phoneNumber,\n    password\n  } = loginInfo;\n  useEffect(() => {\n    dispatch(resetAuthState());\n\n    if (params.code) {\n      dispatch(activateAccount(params.code));\n    }\n  }, []);\n\n  const onClickSignIn = event => {\n    event.preventDefault();\n    const userData = {\n      phoneNumber,\n      password\n    };\n    dispatch(login(userData, history));\n  };\n\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setLoginInfo({ ...loginInfo,\n      [name]: value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"container\",\n    className: \"container mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InfoTitle, {\n    iconClass: \"mr-3\",\n    icon: faSignInAlt,\n    title: \"SIGN IN\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }), errorMessage && /*#__PURE__*/React.createElement(Alert, {\n    alertType: \"danger\",\n    message: errorMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 38\n    }\n  }), successMessage && /*#__PURE__*/React.createElement(Alert, {\n    alertType: \"success\",\n    message: successMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 40\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onClickSignIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    title: \"E-phone\",\n    titleClass: \"col-sm-4\",\n    wrapperClass: \"col-sm-7\",\n    icon: faPhone,\n    type: \"phoneNumber\",\n    name: \"phoneNumber\",\n    value: phoneNumber,\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    title: \"Password\",\n    titleClass: \"col-sm-4\",\n    wrapperClass: \"col-sm-7\",\n    icon: faLock,\n    type: \"password\",\n    name: \"password\",\n    value: password,\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    buttonText: \"Sign in\",\n    buttonClassName: \"mx-2\",\n    icon: faSignInAlt,\n    iconClassName: \"mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: FORGOT,\n    className: \"forgot-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }\n  }, \"Forgot password?\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(SocialButton, {\n    socialNetwork: \"google\",\n    image: googleLogo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(SocialButton, {\n    socialNetwork: \"facebook\",\n    image: facebookLogo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(SocialButton, {\n    socialNetwork: \"github\",\n    image: githubLogo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default Login;","map":{"version":3,"names":["React","useEffect","useState","Link","useHistory","useParams","useDispatch","useSelector","faLock","faPhone","faSignInAlt","activateAccount","login","googleLogo","facebookLogo","githubLogo","InfoTitle","Alert","Input","IconButton","SocialButton","selectErrorMessage","selectSuccessMessage","FORGOT","resetAuthState","initialState","phoneNumber","password","Login","dispatch","history","params","errorMessage","successMessage","loginInfo","setLoginInfo","code","onClickSignIn","event","preventDefault","userData","handleInputChange","name","value","target"],"sources":["C:/Users/ALKAMA/Desktop/commerce/ecommerce-spring-reactjs/frontend/src/pages/Login/Login.tsx"],"sourcesContent":["import React, { ChangeEvent, FC, FormEvent, ReactElement, useEffect, useState } from \"react\";\r\nimport { Link, useHistory, useParams } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { faEnvelope, faLock, faPhone,faSignInAlt } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport { activateAccount, login } from \"../../redux/auth/auth-thunks\";\r\nimport { UserData } from \"../../types/types\";\r\nimport googleLogo from \"../../img/google.png\";\r\nimport facebookLogo from \"../../img/facebook.png\";\r\nimport githubLogo from \"../../img/github.png\";\r\nimport InfoTitle from \"../../component/InfoTitle/InfoTitle\";\r\nimport Alert from \"../../component/Alert/Alert\";\r\nimport Input from \"../../component/Input/Input\";\r\nimport IconButton from \"../../component/IconButton/IconButton\";\r\nimport SocialButton from \"./SocialButton/SocialButton\";\r\nimport { selectErrorMessage, selectSuccessMessage } from \"../../redux/auth/auth-selector\";\r\nimport { FORGOT } from \"../../constants/routeConstants\";\r\nimport \"./Login.css\";\r\nimport { resetAuthState } from \"../../redux/auth/auth-actions\";\r\n\r\nconst initialState = {\r\n    phoneNumber: \"\",\r\n    password: \"\"\r\n};\r\n\r\nconst Login: FC = (): ReactElement => {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const params = useParams<{ code: string }>();\r\n    const errorMessage = useSelector(selectErrorMessage);\r\n    const successMessage = useSelector(selectSuccessMessage);\r\n    const [loginInfo, setLoginInfo] = useState(initialState);\r\n    const { phoneNumber, password } = loginInfo;\r\n\r\n    useEffect(() => {\r\n        dispatch(resetAuthState());\r\n\r\n        if (params.code) {\r\n            dispatch(activateAccount(params.code));\r\n        }\r\n    }, []);\r\n\r\n    const onClickSignIn = (event: FormEvent<HTMLFormElement>): void => {\r\n        event.preventDefault();\r\n        const userData: UserData = { phoneNumber, password };\r\n        dispatch(login(userData, history));\r\n    };\r\n\r\n    const handleInputChange = (event: ChangeEvent<HTMLInputElement>): void => {\r\n        const { name, value } = event.target;\r\n        setLoginInfo({ ...loginInfo, [name]: value });\r\n    };\r\n\r\n    return (\r\n        <div id=\"container\" className=\"container mt-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6\">\r\n                    <InfoTitle iconClass={\"mr-3\"} icon={faSignInAlt} title={\"SIGN IN\"} />\r\n                    <hr />\r\n                    {errorMessage && <Alert alertType={\"danger\"} message={errorMessage} />}\r\n                    {successMessage && <Alert alertType={\"success\"} message={successMessage} />}\r\n                    <form onSubmit={onClickSignIn}>\r\n                        <Input\r\n                            title={\"E-phone\"}\r\n                            titleClass={\"col-sm-4\"}\r\n                            wrapperClass={\"col-sm-7\"}\r\n                            icon={faPhone}\r\n                            type={\"phoneNumber\"}\r\n                            name={\"phoneNumber\"}\r\n                            value={phoneNumber}\r\n                            onChange={handleInputChange}\r\n                        />\r\n                        <Input\r\n                            title={\"Password\"}\r\n                            titleClass={\"col-sm-4\"}\r\n                            wrapperClass={\"col-sm-7\"}\r\n                            icon={faLock}\r\n                            type={\"password\"}\r\n                            name={\"password\"}\r\n                            value={password}\r\n                            onChange={handleInputChange}\r\n                        />\r\n                        <div className=\"form-group row\">\r\n                            <IconButton\r\n                                buttonText={\"Sign in\"}\r\n                                buttonClassName={\"mx-2\"}\r\n                                icon={faSignInAlt}\r\n                                iconClassName={\"mr-3\"}\r\n                            />\r\n                            <Link to={FORGOT} className=\"forgot-password\">\r\n                                Forgot password?\r\n                            </Link>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div className=\"col-md-6 mt-5\">\r\n                    <SocialButton socialNetwork={\"google\"} image={googleLogo} />\r\n                    <SocialButton socialNetwork={\"facebook\"} image={facebookLogo} />\r\n                    <SocialButton socialNetwork={\"github\"} image={githubLogo} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}