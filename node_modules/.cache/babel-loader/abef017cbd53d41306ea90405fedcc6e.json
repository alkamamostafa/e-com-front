{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ALKAMA\\\\Desktop\\\\commerce\\\\ecommerce-spring-reactjs\\\\frontend\\\\src\\\\pages\\\\Account\\\\PerfumeList\\\\PerfumeListComponent.tsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { faList } from \"@fortawesome/free-solid-svg-icons\";\nimport usePagination from \"../../../component/Pagination/usePagination\";\nimport DeleteModal from \"../../../component/DeleteModal/DeleteModal\";\nimport SearchForm from \"../../../component/SearchForm/SearchForm\";\nimport PaginationItem from \"../../../component/Pagination/PaginationItem\";\nimport { deletePerfume } from \"../../../redux/admin/admin-thunks\";\nimport Spinner from \"../../../component/Spinner/Spinner\";\nimport InfoTitle from \"../../../component/InfoTitle/InfoTitle\";\nimport PerfumeListItem from \"./PerfumeListItem/PerfumeListItem\";\nimport { selectIsPerfumesLoading } from \"../../../redux/perfumes/perfumes-selector\";\nimport ToastShow from \"../../../component/Toasts/ToastShow\";\nimport { selectIsPerfumeDeleted } from \"../../../redux/admin/admin-selector\";\n\nconst PerfumeListComponent = _ref => {\n  let {\n    data,\n    itemsPerPage,\n    startFrom,\n    searchByData\n  } = _ref;\n  const dispatch = useDispatch();\n  const isPerfumesLoading = useSelector(selectIsPerfumesLoading);\n  const isPerfumeDeleted = useSelector(selectIsPerfumeDeleted);\n  const [modalActive, setModalActive] = useState(false);\n  const [perfumeInfo, setPerfumeInfo] = useState();\n  const [showToast, setShowToast] = useState(false);\n  const {\n    slicedData,\n    pagination,\n    prevPage,\n    nextPage,\n    changePage,\n    setFilteredData,\n    setSearching\n  } = usePagination({\n    itemsPerPage,\n    data,\n    startFrom\n  });\n  useEffect(() => {\n    setModalActive(false);\n\n    if (isPerfumeDeleted) {\n      setShowToast(true);\n      setTimeout(() => {\n        setShowToast(false);\n      }, 5000);\n    }\n  }, [data]);\n\n  const deletePerfumeHandler = perfumeId => {\n    dispatch(deletePerfume(perfumeId));\n  };\n\n  const showDeleteModalWindow = perfume => {\n    setModalActive(true);\n    setPerfumeInfo(perfume);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, modalActive && /*#__PURE__*/React.createElement(DeleteModal, {\n    perfume: perfumeInfo,\n    deletePerfumeHandler: deletePerfumeHandler,\n    setModalActive: setModalActive,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ToastShow, {\n    showToast: showToast,\n    message: \"Perfume successfully deleted!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(InfoTitle, {\n    iconClass: \"ml-2 mr-2\",\n    icon: faList,\n    title: \"List of perfumes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(SearchForm, {\n    data: data,\n    searchByData: searchByData,\n    setFilteredData: setFilteredData,\n    setSearching: setSearching,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(PaginationItem, {\n    pagination: pagination,\n    prevPage: prevPage,\n    changePage: changePage,\n    nextPage: nextPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  })), isPerfumesLoading ? /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, slicedData.map(perfume => /*#__PURE__*/React.createElement(PerfumeListItem, {\n    key: perfume.id,\n    perfume: perfume,\n    showDeleteModalWindow: showDeleteModalWindow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(PaginationItem, {\n    pagination: pagination,\n    prevPage: prevPage,\n    changePage: changePage,\n    nextPage: nextPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  })));\n};\n\nexport default PerfumeListComponent;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","faList","usePagination","DeleteModal","SearchForm","PaginationItem","deletePerfume","Spinner","InfoTitle","PerfumeListItem","selectIsPerfumesLoading","ToastShow","selectIsPerfumeDeleted","PerfumeListComponent","data","itemsPerPage","startFrom","searchByData","dispatch","isPerfumesLoading","isPerfumeDeleted","modalActive","setModalActive","perfumeInfo","setPerfumeInfo","showToast","setShowToast","slicedData","pagination","prevPage","nextPage","changePage","setFilteredData","setSearching","setTimeout","deletePerfumeHandler","perfumeId","showDeleteModalWindow","perfume","map","id"],"sources":["C:/Users/ALKAMA/Desktop/commerce/ecommerce-spring-reactjs/frontend/src/pages/Account/PerfumeList/PerfumeListComponent.tsx"],"sourcesContent":["import React, { FC, ReactElement, useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { faList } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport usePagination from \"../../../component/Pagination/usePagination\";\r\nimport { Perfume } from \"../../../types/types\";\r\nimport DeleteModal from \"../../../component/DeleteModal/DeleteModal\";\r\nimport SearchForm from \"../../../component/SearchForm/SearchForm\";\r\nimport PaginationItem from \"../../../component/Pagination/PaginationItem\";\r\nimport { deletePerfume } from \"../../../redux/admin/admin-thunks\";\r\nimport Spinner from \"../../../component/Spinner/Spinner\";\r\nimport InfoTitle from \"../../../component/InfoTitle/InfoTitle\";\r\nimport PerfumeListItem from \"./PerfumeListItem/PerfumeListItem\";\r\nimport { selectIsPerfumesLoading } from \"../../../redux/perfumes/perfumes-selector\";\r\nimport ToastShow from \"../../../component/Toasts/ToastShow\";\r\nimport { selectIsPerfumeDeleted } from \"../../../redux/admin/admin-selector\";\r\n\r\ntype PropsType = {\r\n    data: Array<Perfume>;\r\n    itemsPerPage: number;\r\n    startFrom?: number;\r\n    searchByData: Array<{ label: string; value: string }>;\r\n};\r\n\r\nconst PerfumeListComponent: FC<PropsType> = ({ data, itemsPerPage, startFrom, searchByData }): ReactElement => {\r\n    const dispatch = useDispatch();\r\n    const isPerfumesLoading = useSelector(selectIsPerfumesLoading);\r\n    const isPerfumeDeleted = useSelector(selectIsPerfumeDeleted);\r\n    const [modalActive, setModalActive] = useState<boolean>(false);\r\n    const [perfumeInfo, setPerfumeInfo] = useState<Perfume>();\r\n    const [showToast, setShowToast] = useState<boolean>(false);\r\n\r\n    const { slicedData, pagination, prevPage, nextPage, changePage, setFilteredData, setSearching } = usePagination({\r\n        itemsPerPage,\r\n        data,\r\n        startFrom\r\n    });\r\n\r\n    useEffect(() => {\r\n        setModalActive(false);\r\n        \r\n        if (isPerfumeDeleted) {\r\n            setShowToast(true);\r\n            setTimeout(() => {\r\n                setShowToast(false);\r\n            }, 5000);\r\n        }\r\n    }, [data]);\r\n\r\n    const deletePerfumeHandler = (perfumeId: number): void => {\r\n        dispatch(deletePerfume(perfumeId));\r\n    };\r\n\r\n    const showDeleteModalWindow = (perfume: Perfume): void => {\r\n        setModalActive(true);\r\n        setPerfumeInfo(perfume);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {modalActive && (\r\n                <DeleteModal\r\n                    perfume={perfumeInfo}\r\n                    deletePerfumeHandler={deletePerfumeHandler}\r\n                    setModalActive={setModalActive}\r\n                />\r\n            )}\r\n            <ToastShow showToast={showToast} message={\"Perfume successfully deleted!\"} />\r\n            <InfoTitle iconClass={\"ml-2 mr-2\"} icon={faList} title={\"List of perfumes\"} />\r\n            <br />\r\n            <SearchForm\r\n                data={data}\r\n                searchByData={searchByData}\r\n                setFilteredData={setFilteredData}\r\n                setSearching={setSearching}\r\n            />\r\n            <div className=\"mt-3\">\r\n                <PaginationItem\r\n                    pagination={pagination}\r\n                    prevPage={prevPage}\r\n                    changePage={changePage}\r\n                    nextPage={nextPage}\r\n                />\r\n            </div>\r\n            {isPerfumesLoading ? (\r\n                <Spinner />\r\n            ) : (\r\n                <>\r\n                    <div className=\"container-fluid mt-3\">\r\n                        <div className=\"row\">\r\n                            {slicedData.map((perfume: Perfume) => (\r\n                                <PerfumeListItem\r\n                                    key={perfume.id}\r\n                                    perfume={perfume}\r\n                                    showDeleteModalWindow={showDeleteModalWindow}\r\n                                />\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                    <PaginationItem\r\n                        pagination={pagination}\r\n                        prevPage={prevPage}\r\n                        changePage={changePage}\r\n                        nextPage={nextPage}\r\n                    />\r\n                </>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PerfumeListComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}